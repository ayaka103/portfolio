---
name: heading-analyzer
description: 競合記事の見出し構造を分析し、SEOに最適化された見出し構成案を生成するスキル。検索キーワードを指定すると、WebSearchで上位記事を取得し、WebFetchで各記事のH1〜H4見出しを抽出・比較分析する。共通トピック・独自トピック・不足トピックを特定し、差別化された最適な見出し構成を提案する。ブログ記事やSEO記事の見出し設計、コンテンツ企画、記事構成の立案時に使用する。「競合の見出しを分析して」「SEO見出しを作って」「記事構成を考えて」などのリクエストで起動する。
---

# Heading Analyzer - 競合見出し分析 & 最適化スキル

## ワークフロー

### Step 1: キーワードと条件の確認

ユーザーから以下を取得する。未指定の項目はデフォルト値を使用。

| 項目 | 必須 | デフォルト |
|------|------|-----------|
| ターゲットキーワード | Yes | - |
| 分析記事数 | No | 上位5件 |
| 記事の言語 | No | 日本語 |
| 想定読者層 | No | 一般 |

### Step 2: 競合記事の収集

1. WebSearchでターゲットキーワードを検索
2. 検索結果から上位記事のURLを取得（広告・SNS・Q&Aサイトは除外）
3. 取得したURLリストをユーザーに提示

### Step 3: 見出し構造の抽出

各URLに対してWebFetchを実行し、以下のプロンプトで見出しを抽出する:

```
この記事の見出し構造（H1, H2, H3, H4）をすべて抽出し、以下の形式で出力してください:
- 階層をインデントで表現（H1=インデントなし、H2=2スペース、H3=4スペース、H4=6スペース）
- 各見出しの前にレベルタグを付与（例: [H1] タイトル）
- 見出し以外の情報は不要
```

**並列処理**: 複数URLのWebFetchは並列で実行し効率化する。

### Step 4: 分析レポート作成

[references/analysis-guide.md](references/analysis-guide.md) の分析観点とフォーマットに従い、以下を分析する:

1. **構造パターン**: 各記事の見出し階層・数・構成パターンを整理
2. **トピックカバレッジ**: 共通トピック、独自トピック、不足トピックを特定
3. **SEO観点**: キーワード配置、見出しの具体性、検索意図との整合性を評価

### Step 5: 最適化見出し構成案の生成

分析結果をもとに、以下の方針で見出し構成案を作成する:

- 共通トピックは必ずカバー（検索意図への回答として必須）
- 競合に不足しているトピックを1〜3個追加（差別化）
- H1にターゲットキーワードを含める（35文字以内）
- H2は5〜10個を目安（多すぎず少なすぎず）
- H3で具体性を持たせる（数値・事例・手順など）
- ユーザーの思考フローに沿った自然な順序で配置

### Step 6: 出力

以下の順序で出力する:

1. **競合記事 見出し分析レポート**（分析対象一覧、各記事の見出し構造、共通/独自/不足トピック）
2. **最適化 見出し構成案**（H1〜H4の階層構造、構成の根拠）

出力フォーマットの詳細は [references/analysis-guide.md](references/analysis-guide.md) を参照。
